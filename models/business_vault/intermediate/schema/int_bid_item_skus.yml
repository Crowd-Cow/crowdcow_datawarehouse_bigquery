version: 2

models:
  - name: int_bid_item_skus
    description: "Intermediate model that contains logic to join bid items to the SKUs that make up that bid item"
    columns:
      - name: bid_item_id
        description: "Bid item ID"

      - name: bid_item_key
        description: "A unique ID generated by dbt during the snapshot process. This will be unique for each historical row of the `bid_item_id`"
        test:
          - unique
          - not_null

      - name: bid_item_created_at_utc
        description: "Timestamp for when the bid item was created UTC"

      - name: bid_item_updated_at_utc
        description: "Timestamp for when the bid item was updated by the system UTC"

      - name: adjusted_dbt_valid_from
        description: "`dbt_valid_from` date adjusted to '1970-01-01' for the first historical record in order to allow for joins to other tables that have records that are older than the first historical record captured"

      - name: adjusted_dbt_valid_to
        description: "`dbt_valid_to` date adjusted to '2999-01-01' for the current historical record (`dbt_valid_to is null`). This allows joins to other tables that might have dates that are in the future that need information from the current historical record"

      - name: bid_item_name
        description: "The name of the bid item"

      - name: bid_item_price_usd
        description: "The item price for the bid item USD"

      - name: sku_id
        description: "SKU ID"

      - name: sku_quantity
        description: "The quantity of the given SKU that are a part of the bid item"

      - name: is_single_sku_bid_item
        description: "Boolean indicating if this bid item is comprised of a single SKU"
