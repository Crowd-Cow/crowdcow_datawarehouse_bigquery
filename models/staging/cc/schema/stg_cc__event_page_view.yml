version: 2

models:
  - name: stg_cc__event_page_view
    description: Ahoy Event that's published when a page is viewed
    columns:
      - name: event_id
        description: Event ID
        tests:
            - unique
            - not_null

      - name: visit_id
        description: Visit ID

      - name: occurred_at_utc
        description: Timestamp for when the event was published

      - name: user_id
        description: User ID

      - name: experiments
        description: A JSON object mapping an experiment token to the variant (group) that was active during this Visit

      - name: is_member
        description: Boolean that is true if the User was logged in and was a Subscriber when this event was published

      - name: current_fc
        description: The Fulfillment Center associated with the User's Postal Code

      - name: user_postal_code
        description: The User's Postal Code

      - name: referrer_url
        description: Referrer URL

      - name: page_viewed_url
        description: URL of the page that was viewed
