version: 2

models:
  - name: cargill_inventory_snapshot
    description: "Business logic model to snapshot Cargill daily inventory levels for SKU boxes"
    columns:
      - name: inventory_snapshot_id
        description: "A surrogate key to provide a unique value for data tests. Combines `snapshot_date` and `sku_box_key`"
        tests:
          - unique
          - not_null

      - name: snapshot_date
        description: "The calendar date for when the snapshot was taken"

      - name: sku_box_id
        description: "SKU box ID"

      - name: sku_box_key
        description: "A unique ID generated by dbt during the snapshot process. This will be unique for each historical row of the `sku_box_id`"

      - name: fc_id
        description: "Fulfillment center ID"

      - name: fc_key
        description: "The FC information at the time the snapshot was taken. This can be used for joins in the BI layer"

      - name: sku_id
        description: "SKU ID"

      - name: sku_key
        description: "The SKU information at the time the snapshot was taken. This can be used for joins in the BI layer"

      - name: owner_id
        description: "SKU vendor ID for the SKU box owner"

      - name: lot_number
        description: "Lot number"

      - name: pallet_id
        description: "Pallet ID"

      - name: fc_location_id
        description: "Fulfillment center location ID"

      - name: sku_box_name
        description: "SKU box name"

      - name: sku_box_owner_name
        description: "The sku vendor name of the owner of the SKU box"

      - name: location_type
        description: "Fulfillment center location type (e.g. receiving, pallet, sku box, etc."

      - name: location_name
        description: "Fulfillment center location name"

      - name: min_weight
        description: "Minimum weight of the SKU"

      - name: max_weight
        description: "Maximum weight of the SKU"

      - name: quantity
        description: "The quantity of SKUs in the box"

      - name: potential_revenue
        description: "Potential revenue based on remaining SKUs in the box (SKU price * quantity)"

      - name: sku_cost
        description: "Cost of SKUs remaining in the box. (SKU cost * quantity)"

      - name: quantity_reserved
        description: "The quantity of SKUs in the box that are reserved for orders and are not sellable"

      - name: potential_revenue_reserved
        description: "Potential revenue based on remaining reserved SKUs in the box (SKU price * quantity)"

      - name: sku_cost_reserved
        description: "Cost of reserved SKUs remaining in the box. (SKU cost * quantity)"

      - name: quantity_available
        description: "The quantity of total SKUs in the box minus SKUs that are reserved for orders"

      - name: potential_revenue_available
        description: "Potential revenue based on remaining available SKUs in the box (SKU price * quantity)"

      - name: sku_cost_available
        description: "Cost of available SKUs remaining in the box. (SKU cost * quantity)"

      - name: quantity_quarantined
        description: "The quantity of SKUs that are quarantined"

      - name: potential_revenue_quarantined
        description: "Potential revenue based on remaining quarantined SKUs in the box (SKU price * quantity)"

      - name: sku_cost_quarantined
        description: "Cost of quarantined SKUs remaining in the box. (SKU cost * quantity)"

      - name: quantity_sellable
        description: "The quantity of available SKUs that are in a 'Sellable' SKU location as determined by the `is_sellable` boolean flag"

      - name: potential_revenue_sellable
        description: "Potential revenue based on remaining sellable SKUs in the box (SKU price * quantity)"

      - name: sku_cost_sellable
        description: "Cost of sellable SKUs remaining in the box. (SKU cost * quantity)"

      - name: is_sellable
        description: "Boolean indicating if the SKU box is in a sellable FC location"

      - name: is_destroyed
        descripiton: "Boolean indicating if the SKU box has been marked as destroyed"

      - name: created_at_utc
        description: "Timestamp for when the SKU box record was created UTC"

      - name: updated_at_utc
        description: "Timestamp for when the SKU box record was updated by the system UTC"

      - name: marked_not_for_sale_at_utc
        description: "Timstamp for when the SKU box was marked not for sale UTC"

      - name: marked_destroyed_at_utc
        description: "Timestamp for when the SKU box was marked as destroyed UTC"

      - name: delivered_at_utc
        description: "Timestamp for when the SKU box was marked as delivered UTC"

      - name: moved_to_picking_at_utc
        description: "Timestamp for when the SKU box was moved to picking UTC"
