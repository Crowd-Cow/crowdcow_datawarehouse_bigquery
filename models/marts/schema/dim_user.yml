version: 2

models:
  - name: dim_user
    description: Dimension model for users info
    columns:
      - name: user_id
        description: User ID
        tests:
          - unique:
              severity: warn
          - not_null

      - name: user_type
        description: User Type

      - name: user_email
        description: User email

      - name: user_gender
        description: User gender

      - name: user_last_geocoded_address
        description: User last geocoded address

      - name: user_last_geocoded_city
        description: User last geocoded city

      - name: user_last_geocoded_state_code
        description: User last geocoded state code

      - name: user_last_geocoded_state
        description: User last geocoded state

      - name: user_last_geocoded_postal_code
        description: User last geocoded postal code

      - name: user_last_geocoded_country_code
        description: User last geocoded country code

      - name: user_last_geocoded_country
        description: User last geocoded country

      - name: user_zip
        description: User zip

      - name: user_last_geocoded_latitude
        description: User last geocoded latitude

      - name: user_last_geocoded_longitude
        description: User last geocoded longitude

      - name: user_cow_cash_balance_usd
        description: User Cow Cash balance in USD

      - name: user_unsubscribed_all_at_utc
        description: Timestamp that user unsubscribed from all email UTC

      - name: referrer_url
        description: Url of the referrer

      - name: updated_at_utc
        description: Timestamp for when a record was updated UTC

      - name: referred_by_user_id
        description: Referred by User ID

      - name: user_roles_for_notifications
        description: User roles for notifications

      - name: user_token
        description: User token

      - name: created_at_utc
        description: Timestamp for when a record was created UTC

      - name: utm_source
        description: UTM source

      - name: user_landing_page_source
        description: Landing page of the source for the user

      - name: user_total_sign_in_count
        description: Total number of sign ins for a user

      - name: user_email_name
        description: Name associated with user email

      - name: user_vip_level
        description: User VIP level

      - name: user_last_sign_in_at_utc
        description: Last time in UTC the user signed in to their account

      - name: user_test_bucket
        description: User test bucket

      - name: user_opt_out_list
        description: User opt out list

      - name: user_is_banned_from_referrals
        description: Boolean indicating if a user is banned from referrals

      - name: user_was_email_lead
        description: Binary flag for whether or not a user was an email lead

      - name: user_has_opted_in_to_emails
        description: Boolean indicating if a user has opted in to emails

      - name: dbt_valid_to
        description: DBT generated timsteampe for the start of a period a record was considered "current"

      - name: dbt_valid_from
        description: DBT generated timestamp for the end period a record was considered "current"

      - name: user_key
        description: Uniqe identifier for user information at a given point in time
